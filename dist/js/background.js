!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return s}));const o=function(t){return Math.floor(Math.random()*t+1)},i=function(t,e){let n=localStorage.getItem(t);if(n)try{n=JSON.parse(n)}catch(t){}return n||e},r=function(t,e){return localStorage.setItem(t,JSON.stringify(e))},a=function(t){chrome.runtime.sendMessage(t,(function(t){console.log("收到来自后台的回复："+t)}))},s=function(){const t=new Date;return[t.getFullYear(),t.getMonth()+1,t.getUTCDate()].join("-")}},function(t,e,n){"use strict";const o={baseUrl:"",stringify(t,e){var n=[];for(var o in t)if(t.hasOwnProperty(o)){var i,r=t[o],a=encodeURIComponent(o);i="object"==typeof r?queryStringify(r,e?e+"["+a+"]":a):(e?e+"["+a+"]":a)+"="+encodeURIComponent(r),n.push(i)}return n.join("&")},request(t,e,n="GET",o={}){return t?new Promise((i,r)=>{/^http[s]?:\/\//.test(t)||(t=this.baseUrl+t),e=this.stringify(e),"GET"==n&&(t+=(-1===t.indexOf("?")?"?":"&")+e);const a=new XMLHttpRequest;a.withCredentials=!0,a.open(n,t,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(e),a.onreadystatechange=function(){if(a&&4===a.readyState&&4===a.readyState){let t={headers:o,data:a.response||a.responseText,status:a.status,requestURL:a.responseURL,request:a};200!==a.status&&(/json/.test(t.headers["content-type"])?r(JSON.parse(t.data)):r(t.data)),t.data&&(/json/.test(t.headers["content-type"])?i(JSON.parse(t.data)):i(t.data))}},a.onerror=function(){r({msg:"Network Error",config:{url:t,data:e,Methods:n},xmlhttp:a})},a.onabort=function(){request&&r({msg:"Request aborted",config:{url:t,data:e,Methods:n},xmlhttp:a})},a.ontimeout=function(){r({msg:"timeout of Nam ms exceeded",config:{url:t,data:e,Methods:n},xmlhttp:a})}}):Promise.reject("url must!")},get(t,e,n){return this.request(t,e,"GET",n)},post(t,e,n){return this.request(t,e,"POST",n)}};e.a=o},,function(t,e,n){"use strict";n.r(e);const o={load:'<svg t="1561855857132" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5530" width="200" height="200"><path d="M512 0a51.2 51.2 0 0 1 51.2 51.2v153.6a51.2 51.2 0 0 1-102.4 0V51.2a51.2 51.2 0 0 1 51.2-51.2z m362.0352 149.9648a51.2 51.2 0 0 1 0 72.3968L765.44 330.9568a51.2 51.2 0 0 1-72.3968-72.3968l108.544-108.5952a51.2 51.2 0 0 1 72.448 0zM1024 512a51.2 51.2 0 0 1-51.2 51.2h-153.6a51.2 51.2 0 0 1 0-102.4h153.6a51.2 51.2 0 0 1 51.2 51.2z m-149.9648 362.0352a51.2 51.2 0 0 1-72.3968 0l-108.5952-108.5952a51.2 51.2 0 0 1 72.3968-72.3968l108.5952 108.544a51.2 51.2 0 0 1 0 72.448zM512 1024a51.2 51.2 0 0 1-51.2-51.2v-153.6a51.2 51.2 0 0 1 102.4 0v153.6a51.2 51.2 0 0 1-51.2 51.2z m-362.0352-149.9648a51.2 51.2 0 0 1 0-72.3968l108.5952-108.5952a51.2 51.2 0 1 1 72.3968 72.3968l-108.544 108.5952a51.2 51.2 0 0 1-72.448 0zM0 512a51.2 51.2 0 0 1 51.2-51.2h153.6a51.2 51.2 0 1 1 0 102.4H51.2a51.2 51.2 0 0 1-51.2-51.2z m149.9648-362.0352a51.2 51.2 0 0 1 72.3968 0L330.9568 258.56A51.2 51.2 0 1 1 258.56 330.9568L150.016 222.4128a51.2 51.2 0 0 1 0-72.448z" p-id="5531"></path></svg>'};function i(t){return t?("string"==typeof t&&(t={title:t}),this.init({duration:3e3,icon:"none",...t})):this}i.prototype.init=function({title:t,icon:e,duration:n,btn:i="close"}){const r="via_"+Math.round(9999*Math.random()),a=document.createElement("div");a.innerHTML=`<i class="tia-icon ${e}">${o[e]||""}</i><p>${t}</p><span class="${r}">${i}</span>`,a.setAttribute("id",r),a.setAttribute("class","tia-toast"),document.body.appendChild(a),this.Dom=document.getElementById(r),this.Dom.getElementsByClassName(r)[0].onclick=t=>{let e;for(this.hide();e=this._CB.shift();)e(t)},this._hide=!1,setTimeout(()=>{this.Dom.style.bottom=0},0),n&&setTimeout(()=>this.hide(),n)},i.prototype._CB=[],i.prototype.hide=function(){if(this._hide)return!1;this.Dom.style.bottom=-this.Dom.offsetHeight+"px",setTimeout(()=>this.Dom.parentNode.removeChild(this.Dom),300),this._hide=!0},i.prototype.then=function(t){return this._CB.push(t),this};var r=function(t){return new i(t)},a=n(1),s=n(0);const c=Object(s.a)("tia_last_sgin");let u;document.onreadystatechange=function(){if(c&&c==Object(s.b)())return r("亲, 今天已经签到过了哦,明天再继续吧!");const t=document.readyState;if("interactive"==t)u=r({title:"自动签到中~",icon:"load",duration:0});else if("complete"==t){const t=window.document.cookie,e={Cookie:t,"accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.9","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1"};Object(s.e)({action:"saveAccount",val:[t]}),a.a.get("https://vip.video.qq.com/fcgi-bin/comm_cgi",{name:"hierarchical_task_system",cmd:2},e).then(t=>{/Account Verify Error/.test(t)?(r("腾讯视频自动签到失败, cookies失效，请更新！"),Object(s.e)({action:"changeAccountState",val:[1]})):(r("自动签到成功"),Object(s.d)("tia_last_sgin",Object(s.b)())),u.hide()}).catch(()=>{r("自动签到失败, 请先登陆!"),Object(s.e)({action:"changeAccountState",val:[2]}),u.hide()})}}}]);